<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition template="/Layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define name="content">
        <h:head><title>DAMNIFICADO</title>

            <link href="estilos/jsfcrud.css" type="text/css" rel="stylesheet" />
            <link href="estilos/estilo.css" type="text/css" rel="stylesheet" />
            <script type="text/javascript" src="estilos/validaciones.js"></script>
            <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />

        </h:head>
        <h:body>
            <p:growl id="msgs" showSummary="false" showDetail="true" life="4000"/>
            <h:form id="formh">
                <h:panelGrid columns="2" cellpadding="10">
                    <p:panel  header="DAMNIFICADO"
                              style="width: 1300px;" >
                        <p:dataTable id="tprincipal" 
                                     var="object" value="#{damnificado.listaDamnificado}"
                                     emptyMessage="No se encontraron datos"
                                     rows="5" paginator="true" 
                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} 
                                     {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"    
                                     >    

                            <f:facet name="header">
                                <p:outputPanel>
                                    <p:commandButton   id="id_nuevo" type="button" value=" NUEVO" style="float: right"
                                                       onclick="PF('pNuevoDamnificado').show()" icon="fa fa fa-plus"
                                                       update=":#{p:component('jC')}" >
                                    </p:commandButton>
                                </p:outputPanel>
                            </f:facet>


                            <p:column   filterBy="#{object.damNombres}" headerText="NOMBRES"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damNombres}" />
                            </p:column>
                            <p:column   filterBy="#{object.damApellidos}" headerText="APELLIDOS"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damApellidos}" />
                            </p:column>

                            <p:column   filterBy="#{object.damCedula}" headerText="CÃDULA"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damCedula}" />
                            </p:column>

                            <p:column   filterBy="#{object.albEstadoCivil.eciTipo}" headerText="ESTADO CIVIL"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.albEstadoCivil.eciTipo}" />
                            </p:column>

                            <p:column   filterBy="#{object.damSexo}" headerText="SEXO"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damSexo}" />
                            </p:column>

                            <p:column   headerText="LUGAR DE NACIMIENTO"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damLugarNacimiento}" />
                            </p:column>

                            <p:column    headerText="FECHA DE NACIMIENTO"  width="100"
                                         filterMatchMode="contains">
                                <h:outputText value="#{object.damFechaNacimiento}" />
                            </p:column>

                            <p:column   headerText="DOMICILIO"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damDireccionDomicilio}" />
                            </p:column>                    

                            <p:column   headerText="NIVEL DE INSTRUCCIÃN"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.albInstruccion.insNombre}" />
                            </p:column>

                            <p:column    headerText="OCUPACIÃN"  width="100"
                                         filterMatchMode="contains">
                                <h:outputText value="#{object.albProfesion.prfProfesion}" />
                            </p:column>

                            <p:column   headerText="NOMBRES Y APELLIDOS MATERNO"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damDatosMadre}" />
                            </p:column>

                            <p:column   headerText="NOMBRES Y APELLIDOS PATERNO"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damDatosPadre}" />
                            </p:column>

                            <p:column  headerText="CELULAR"  width="100"
                                       filterMatchMode="contains">
                                <h:outputText value="#{object.damCelular}" />
                            </p:column>

                            <p:column   headerText="E-MAIL"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damEmail}" />
                            </p:column>

                            <p:column    headerText="NIVEL DE DISCAPACIDAD"  width="100"
                                         filterMatchMode="contains">
                                <h:outputText value="#{object.albDiscapacidad.disTipo}" />
                            </p:column>

                            <p:column    headerText="EMBARAZO"  width="100"
                                         filterMatchMode="contains">
                                <h:outputText value="#{object.damEmbarazo}" />
                            </p:column>                            

                            <p:column   headerText="NÂ° NÃCLEO FAMILIAR"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.albFamilia.famNumIntegrantes}" />
                            </p:column>


                            <p:column   headerText="OBSERVACIONES"  width="100"
                                        filterMatchMode="contains">
                                <h:outputText value="#{object.damObservaciones}" />
                            </p:column>

                            <p:column   headerText="EDITAR" width="50"  style="text-align: center" >
                                <p:commandButton id="btn_Editar"   icon="fa fa-edit"  onclick="PF('dlgEditar').show();" update="formEditarDamnificado" >
                                    <f:setPropertyActionListener value="#{object}" target="#{damnificado.selectedDamnificadoEditar}" />
                                    <p:resetInput target=":formEditarDamnificado" />
                                </p:commandButton>
                            </p:column>

                            <p:column   headerText="ELIMINAR" width="50" style="text-align: center" >
                                <p:commandButton id="btn_Eliminar"  update="msgs,:formh:" icon="ui-icon-trash"  >
                                    <f:setPropertyActionListener value="#{object}" target="#{damnificado.selectedSegDamnificadoEliminar}" />
                                    <p:confirm header="ConfirmaciÃ³n" message="¿Está seguro de Eliminar?" />
                                </p:commandButton>

                                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" severity="alert">
                                    <p:commandButton   value="Si" type="button" styleClass="ui-confirmdialog-yes" 
                                                       icon="ui-icon-check" />
                                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                </p:confirmDialog>
                            </p:column>

                        </p:dataTable>
                    </p:panel>
                </h:panelGrid>
            </h:form>

            <p:dialog header="EDITAR DAMNIFICADO" widgetVar="dlgEditar"  modal="false"
                      minHeight="40" closable="false" draggable="false" >
                <h:form id="formEditarDamnificado">
                    <p:growl id="msgsUsuario"  />

                    <h:panelGrid columns="2" cellpadding="3" >

                        <h:outputLabel value="Nombres : *" ></h:outputLabel>
                        <p:inputText id="txt_NombreEditar"  value="#{damnificado.segDamnificadoObjects.damNombres}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="Apellidos : *" ></h:outputLabel>
                        <p:inputText id="txt_ApellidosEditar"  value="#{damnificado.segDamnificadoObjects.damApellidos}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="CÃ©dula : *" ></h:outputLabel>
                        <p:inputText id="txt_CedulaEditar"  value="#{damnificado.segDamnificadoObjects.damCedula}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="Estado Civil: *" ></h:outputLabel>
                        <p:selectOneMenu  id="txtEstCivil_edit"  value="#{damnificado.idSeleccionEstadoCivil}" style="width:150px" >
                            <f:selectItem  itemValue="" itemLabel="#{damnificado.segDamnificadoObjects.albEstadoCivil.eciTipo} " noSelectionOption="false"  />
                            <f:selectItems value="#{damnificado.listaEditarEstadoCivil}" /> 
                        </p:selectOneMenu>

                        <h:outputLabel value="Sexo: *" ></h:outputLabel>
                        <p:inputText id="txt_sexo_Edit"  value="#{damnificado.segDamnificadoObjects.damSexo}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="Lugar de Nacimiento: *" ></h:outputLabel>
                        <p:inputText id="txt_lugarNaci_Edit"  value="#{damnificado.segDamnificadoObjects.damLugarNacimiento}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="Fecha de Nacimiento: *" ></h:outputLabel>
                        <p:inputText id="txt_fechaNaci_Edit"  value="#{damnificado.segDamnificadoObjects.damFechaNacimiento}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="DirecciÃ³n domicilio: *" ></h:outputLabel>
                        <p:inputText id="txt_domicilio_Edit"  value="#{damnificado.segDamnificadoObjects.damDireccionDomicilio}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="Nivel de InstrucciÃ³n: *" ></h:outputLabel>
                        <p:selectOneMenu  id="txtinstruccion_edit"  value="#{damnificado.idSeleccionNivInstrucc}" style="width:150px" >
                            <f:selectItem  itemValue="" itemLabel="#{damnificado.segDamnificadoObjects.albInstruccion.insNombre} " noSelectionOption="false"  />
                            <f:selectItems value="#{damnificado.listaEditarNivInstrucc}" /> 
                        </p:selectOneMenu>

                        <h:outputLabel value="Ocupación: *" ></h:outputLabel>
                        <p:selectOneMenu  id="txtOcupacion_edit"  value="#{damnificado.idSeleccionProfesion}" style="width:150px" >
                            <f:selectItem  itemValue="" itemLabel="#{damnificado.segDamnificadoObjects.albProfesion.prfProfesion} " noSelectionOption="false"  />
                            <f:selectItems value="#{damnificado.listaEditarProfesion}" /> 
                        </p:selectOneMenu>

                        <h:outputLabel value="Datos Materno: *" ></h:outputLabel>
                        <p:inputText id="txt_datosMat_Edit"  value="#{damnificado.segDamnificadoObjects.damDatosMadre}" 
                                     required="true" >
                        </p:inputText> 

                        <h:outputLabel value="Datos Paterno: *" ></h:outputLabel>
                        <p:inputText id="txt_datosPat_Edit"  value="#{damnificado.segDamnificadoObjects.damDatosPadre}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="CÃ©dula: *" ></h:outputLabel>
                        <p:inputText id="txt_cedula_Edit"  value="#{damnificado.segDamnificadoObjects.damCedula}" 
                                     required="true" >
                        </p:inputText> 

                        <h:outputLabel value="E-mail: *" ></h:outputLabel>
                        <p:inputText id="txt_mail_Edit"  value="#{damnificado.segDamnificadoObjects.damEmail}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="Nivel Discapacidad: *" ></h:outputLabel>
                        <p:selectOneMenu  id="txtDiscapacidad_edit"  value="#{damnificado.idSeleccionDiscapacidad}" style="width:150px" >
                            <f:selectItem  itemValue="" itemLabel="#{damnificado.segDamnificadoObjects.albDiscapacidad.disTipo} " noSelectionOption="false"  />
                            <f:selectItems value="#{damnificado.listaEditarDiscapacida}" /> 
                        </p:selectOneMenu>

                        <h:outputLabel value="Embarazo: *" ></h:outputLabel>
                        <p:inputText id="txt_embarazo_Edit"  value="#{damnificado.segDamnificadoObjects.damEmbarazo}" 
                                     required="true" >
                        </p:inputText>

                        <h:outputLabel value="NÂ° nÃºcleo familiar: *" ></h:outputLabel>
                        <p:selectOneMenu  id="txtNumFlia_edit"  value="#{damnificado.idSeleccionNumFlia}" style="width:150px" >
                            <f:selectItem  itemValue="" itemLabel="#{damnificado.segDamnificadoObjects.albFamilia.famNumIntegrantes} " noSelectionOption="false"  />
                            <f:selectItems value="#{damnificado.listaEditarNumFlia}" /> 
                        </p:selectOneMenu>

                        <h:outputLabel value="Observaciones : *" ></h:outputLabel>
                        <p:inputText id="txt_observa_Edit"  value="#{damnificado.segDamnificadoObjects.damObservaciones}" 
                                     required="true" >
                        </p:inputText>             

                        <f:facet name="footer">
                            <p:commandButton id="editar" value="GUARDAR" type="button" update="msgs,:formh:" icon="fa fa-save"
                                             action="#{damnificado.actualizarDamnificad}" onclick="PF('dlgEditar').hide()"  >
                                <p:confirm header="ConfirmaciÃ³n" message="¿Está seguro de actualizar?" />
                            </p:commandButton>
                            <p:commandButton value="SALIR" type="reset" icon="fa fa-close"
                                             onclick="PF('dlgEditar').hide()"/>

                            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" severity="alert">
                                <p:commandButton   value="Si" type="button" styleClass="ui-confirmdialog-yes" 
                                                   icon="ui-icon-check" />
                                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                            </p:confirmDialog>
                        </f:facet>
                    </h:panelGrid>

                </h:form>
                
                <h:form id="jC" >      
                <p:dialog header="NUEVO DAMNIFICADO" widgetVar="pNuevoDamnificado" id="dlgNuevoJ" 
                          closable="false">
                    <h:panelGrid columns="2" cellpadding="2">
                        <h:outputLabel value="Nombres: " />
                        <p:inputText id="nombre" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damNombres}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />  
                        <p:outputLabel value="Apellidos:" />
                        <p:inputText id="apellidos" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damApellidos}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     /> 
                        
                        <p:outputLabel value="CÃ©dula:" />
                        <p:inputText id="cedula" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damCedula}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                        
                        <p:outputLabel value="Estado Civil:" />
                        <p:selectOneMenu  id="estadoCivil" value="#{damnificado.idSeleccionEstadoCivil}" style="width:150px">
                            <f:selectItem  itemValue="" itemLabel="Seleccione Estado Civil: " noSelectionOption="false" />
                            <f:selectItems value="#{damnificado.listaEditarEstadoCivil}" />
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="Sexo:" />
                        <p:inputText id="sexo" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damSexo}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                        
                         <p:outputLabel value="Lugar de Nacimiento:" />
                        <p:inputText id="LugarNacim" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damLugarNacimiento}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                         <p:outputLabel value="Fecha de Nacimiento:" />
                        <p:inputText id="FechaNacim" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damFechaNacimiento}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                        <p:outputLabel value="Direccion de domicilio:" />
                        <p:inputText id="domicilio" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damDireccionDomicilio}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                        
                        <p:outputLabel value="Nivel de InstrucciÃ³n:" />
                        <p:selectOneMenu  id="instruccion" value="#{damnificado.idSeleccionNivInstrucc}" style="width:150px">
                            <f:selectItem  itemValue="" itemLabel="Seleccione Nivel de InstrucciÃ³n: " noSelectionOption="false" />
                            <f:selectItems value="#{damnificado.listaEditarNivInstrucc}" />
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="OcupaciÃ³n:" />
                        <p:selectOneMenu  id="ocupacion" value="#{damnificado.idSeleccionProfesion}" style="width:150px">
                            <f:selectItem  itemValue="" itemLabel="Seleccione OcupaciÃ³n: " noSelectionOption="false" />
                            <f:selectItems value="#{damnificado.listaEditarProfesion}" />
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="Datos Padre:" />
                        <p:inputText id="padre" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damDatosPadre}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                        <p:outputLabel value="Datos Madre:" />
                        <p:inputText id="madre" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damDatosMadre}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                        <p:outputLabel value="Celular:" />
                        <p:inputText id="celular" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damCelular}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                         <p:outputLabel value="E-mail:" />
                        <p:inputText id="mail" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damEmail}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                        
                        <p:outputLabel value="Nivel de discapacidad:" />
                        <p:selectOneMenu  id="discapacidad" value="#{damnificado.idSeleccionDiscapacidad}" style="width:150px">
                            <f:selectItem  itemValue="" itemLabel="Seleccione Nivel de discapacidad: " noSelectionOption="false" />
                            <f:selectItems value="#{damnificado.listaEditarDiscapacida}" />
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="Embarazo:" />
                        <p:inputText id="embarazo" style="text-transform: uppercase; font-weight:bold; color: black " 
                                     value="#{damnificado.albDamnificado.damEmbarazo}" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />
                        
                        <p:outputLabel value="NÂ° NÃºcleo familiar:" />
                        <p:selectOneMenu  id="familia" value="#{damnificado.idSeleccionNumFlia}" style="width:150px">
                            <f:selectItem  itemValue="" itemLabel="Seleccione NÂ° NÃºcleo familiar: " noSelectionOption="false" />
                            <f:selectItems value="#{damnificado.listaEditarNumFlia}" />
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="Observaciones:" />
                        <p:inputText id="observaciones" value="#{damnificado.albDamnificado.damObservaciones}" 
                                     style="text-transform: uppercase; font-weight:bold; color: black" 
                                     size="#{PForm.anchoCajaTextoNombre}" maxlength="#{PForm.longitudMaximaCaracteresNombres}"
                                     />  

                        <h:panelGrid columns="2" cellpadding="1">
                            <p:commandButton id="btn_guardar" value="GUARDAR"  update="msgs,:formh:,:jC" icon="fa fa-save"
                                             action="#{damnificado.guardarDamnificado}"   >
                                <p:confirm header="ConfirmaciÃ³n" message="#{msg['mensaje_advertencia_guardar']}" />
                            </p:commandButton>
                            <p:commandButton value="SALIR" icon="fa fa-close" onclick="PF('pNuevoDamnificado').hide()"
                                             action="#{damnificado.cancelarCargaDatos}"/>
                            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" severity="alert">
                                <p:commandButton   value="Si" type="button" styleClass="ui-confirmdialog-yes" 
                                                   icon="ui-icon-check" />
                                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                            </p:confirmDialog>
                        </h:panelGrid>

                    </h:panelGrid>
                </p:dialog>
            </h:form>
                
            </p:dialog>
        </h:body>
    </ui:define>
</ui:composition>
